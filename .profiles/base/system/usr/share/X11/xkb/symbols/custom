
// To enable, save this file as /usr/share/X11/xkb/symbols/emacs-linacs and run:
//
//   setxkbmap -option '' "custom(pc)"
//
// or
//
//   setxkbmap -option '' "custom(mac)"
//
// If fcitx/ibus is in use, they need to be configured not to override
// the system setting.
// For ibus enable: Preference | Advanced | Use system keyboard layout
// For fcitx disable: Configure | Addon | Advanced | X Keyboard Integration
// | Configure | Allow to Override System XKB Settings

partial modifier_keys alphanumeric_keys
xkb_symbols "base" {

  include "us"
  include "shift(both_capslock)"

  key <CAPS> {[ Super_L ]};
  modifier_map Mod4 { <CAPS> };
};

partial modifier_keys alphanumeric_keys
xkb_symbols "pc" {
  include "custom(base)"

  key <LALT> {[ Control_L, Control_L ]};
  key <LWIN> {[ Alt_L, Meta_L ]};
  modifier_map Mod1 { <LWIN> };
  modifier_map Control { <LALT> };

  key <RALT> {[ Control_R, Control_R ]};
  key <RWIN> {[ Alt_R, Meta_R ]};
  modifier_map Mod1 { <RWIN> };
  modifier_map Control { <RALT> };
};

partial modifier_keys alphanumeric_keys
xkb_symbols "mac" {
  include "custom(base)"

  key <LWIN> {[ Control_L ]};
  key <LCTL> {[ Super_L, Super_L ]};
  modifier_map Mod4 { <LCTL> };
  modifier_map Control { <LWIN> };

  key <RWIN> {[ Control_R ]};
  key <RCTL> {[ Super_R, Super_R ]};
  modifier_map Mod4 { <RCTL> };
  modifier_map Control { <RWIN> };
};

partial modifier_keys alphanumeric_keys
xkb_symbols "chain" {
  include "custom(base)"

  key <LALT> {[ Control_L, Control_L ]};
  key <LWIN> {[ Alt_L, Meta_L ]};
  key <LCTL> {[ Super_L, Super_L ]};
  modifier_map Mod1 { <LWIN> };
  modifier_map Mod4 { <LCTL> };
  modifier_map Control { <LALT> };

  key <RALT> {[ Control_R, Control_R ]};
  key <RCTL> {[ Alt_R, Alt_R ]};
  modifier_map Control { <RALT> };
};
